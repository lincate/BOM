## CAP定理含义

分布式系统基本定理，帮助指导建设分布式系统。

#### 一、分布式系统的三个指标

------

- ```
  - Consistency
  - Availability
  - Partition tolerance
  ```

一致性，可用性，分区容错性。

三者示意图：

![](.\imagecap\cap_3_metrics.png)

​        作为分布式系统分区容错性为必选属性，要保证有容错能力或者有容错策略。在分布式系统中，包含大量的服务或节点，单节点的出错概率乘以节点数量，整体出错概率将非常之高，再加之可能存在跨局域网，城域网的场景，那么多分布式系统的整体出错概率非常高。

​		因此，必须考虑容错性，既给与容错性不同的处理策略。

​		在理解P时，狭义的来说，如果业务中的服务不可用，那么其他与错误服务相关的事务采取什么策略？是等待服务恢复（为了保持数据的绝对一致），还是允许部分错误（允许不一致，但服务基本可用），继续执行，抑或是人工介入等等。

​		因此三者从逻辑上来讲，无法全部满足。在传统的单体架构中，因为不存在部分节点或者服务出错的可能，也极少网络故障，因此都是采用一致性策略。

