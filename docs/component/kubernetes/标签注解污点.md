### 注解说明

| 标签名称 | 作用域 |   目的    | 场景使用案例 | 类型 |
| :----- | :----: | :----: |:----: |:----: |
| kubernetes.io/arch | Node  | 芯片类型 |N/A|N/A|
| kubernetes.io/os | Node   | 操作系统类型 |N/A|N/A|
| kubernetes.io/metadata.name | NS | 命名空间名称 |优先选择pod所在的ns|N/A|
| kubernetes.io/hostname | Node | 主机名称 |强制选择部署节点|N/A|
| node.kubernetes.io/instance-type | Node | 自定义节点类型 |可以按照节点工作类型不同挂载节点|N/A|
| statefulset.kubernetes.io/pod-name | Pod | 有状态的pod名称 |N/A|N/A|
| topology.kubernetes.io/region      | Node,PV | 节点地域 |定义节点所属地域||
| topology.kubernetes.io/zone        | Node,PV | 节点机房 |定义节点所属机房||

### 污点说明

| 污点名称 |   目的    | 场景使用案例 | 类型 |
| :----- |  :----: |:----: |:----: |
| node.kubernetes.io/not-ready       | 节点未准备好 |  通过节点状态执行部署  |N/A|
| node.kubernetes.io/unreachable     | 节点状态未知 |                        ||
| node.kubernetes.io/unschedulable   | 初始化时状态 |                        ||
| node.kubernetes.io/memory-pressure | 监测内存阈值 | 定义阈值，设置部署规则 ||
| node.kubernetes.io/disk-pressure   | 监测磁盘压力 | 定义阈值，设置部署规则 ||
| node.kubernetes.io/pid-pressure    | 监测PID数量 | 定义阈值，设置部署规则 ||

### 调度流程

- 过滤

  - PodFitsHostPorts 端口占用
  - PodFitsHost 指定主机名
  - PodFitsResources 资源要求检查
  - MatchNodeSelector 满足节点匹配
  - NoVolumeZoneConflict 存储区域限制
  - NoDiskConflict 请求的卷是否冲突
  - MaxCSIVolumeCount CSI卷数量上限
  - CheckNodeMemoryPressure 内存压力检查
  - CheckNodePIDPressure 进程数量压力检查
  - CheckNodeDiskPressure 磁盘空间压力检查
  - CheckNodeCondition 节点状态检查
  - PodToleratesNodeTaints 污点容忍
  - CheckVolumeBinding 卷绑定

- 打分

  - SelectorSpreadPriority： 对于同一种资源的，优先跨主机部署
  - InterPodAffinityPriority：实现POD的亲和与反亲和
  - LeastRequestedPriority： 优先部署在资源消耗少的节点
  - MostRequestedPriority： 优先部署在资源消耗多的节点
  - RequestedToCapacityRatioPriority
  - BalancedResourceAllocation： 优先部署在CPU，内存使用比例接近的节点
  - NodePreferAvoidPodsPriority： 自定义preferAvoidPods节点

  